<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>PRC2 - 07 JavaFX</title><link rel=stylesheet href=https://fontysvenlo.github.io/prc2/css/main.min.bd363a626ae1c698f13409c9784ea6f1475d32782da4f7940f5ad0410559be2b5eefe173b448f56944635de717743c3d4c0bc6b77f7029d9a73502f96b089860.css integrity="sha512-vTY6YmrhxpjxNAnJeE6m8UddMngtpPeUD1rQQQVZvite7+FztEj1aURjXecXdDw9TAvGt39wKdmnNQL5awiYYA==" crossorigin=anonymous><link rel=stylesheet href=https://fontysvenlo.github.io/prc2/css/highlight.9e5322c61da2ab0997ce2db01648537ffacdb7b808fc24af4d99ff51257c59db9500031551feb8e62cafde7a246ae2c0015c2862637519a22eb0b49fa7b9d2f9.css integrity="sha512-nlMixh2iqwmXzi2wFkhTf/rNt7gI/CSvTZn/USV8WduVAAMVUf645iyv3nokauLAAVwoYmN1GaIusLSfp7nS+Q==" crossorigin=anonymous><link rel=stylesheet href=https://fontysvenlo.github.io/prc2/css/fontawesome.18a15c01c2df9b660114c44bfe1cd143dc48faeea9d5bc11a5b70509d8ec85ae65ac4c6dab72eb09a5c4770d45d6a2d802d28924e739d852a37c1b14f3a9cc61.css integrity="sha512-GKFcAcLfm2YBFMRL/hzRQ9xI+u6p1bwRpbcFCdjsha5lrExtq3LrCaXEdw1F1qLYAtKJJOc52FKjfBsU86nMYQ==" crossorigin=anonymous><script src=/prc2/js/init-darkmode.min.b7911813658cd032d0ed2d118da1fb57653d18386d8b1a26618f83f80019be21e977a1ddeeaeb51dcd1f7d21dfed542a8da077c29eb1ec03d84471bf90d3fabe.js integrity="sha512-t5EYE2WM0DLQ7S0RjaH7V2U9GDhtixomYY+D+AAZviHpd6Hd7q61Hc0ffSHf7VQqjaB3wp6x7APYRHG/kNP6vg==" crossorigin=anonymous></script>
<link rel=apple-touch-icon sizes=180x180 href=https://fontysvenlo.github.io/prc2/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://fontysvenlo.github.io/prc2/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://fontysvenlo.github.io/prc2/favicon-16x16.png></head><body class="antialiased text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800"><header class="sticky top-0 z-40 w-full flex-none lg:border-b lg:border-gray-900/10 dark:border-gray-50/[0.06] bg-white dark:bg-gray-800
border-b border-slate-900/10 lg:border-0 dark:border-slate-300/10"><div class="max-w-8xl mx-auto"><div class="py-4 lg:px-8 mx-4 lg:mx-0"><div class="relative flex items-center"><button id=menu-toggle type=button class="lg:hidden text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 mr-3">
<span class=sr-only>Navigation</span><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button>
<a class="mr-3 flex-none overflow-hidden md:w-auto dark:hover:text-gray-200 hover:text-gray-900" href=https://fontysvenlo.github.io/prc2/>PRC2</a><div class="relative flex ml-auto"><nav class="hidden md:flex items-center text-sm leading-6 font-semibold text-gray-700 dark:text-gray-200"><ul class="flex space-x-8"><li><a href=https://fontysvenlo.github.io/prc2/pages/tips/ class="hover:text-sky-500 dark:hover:text-sky-400">Tips</a></li><li><a href=https://fontysvenlo.github.io/prc2/pages/setup/ class="hover:text-sky-500 dark:hover:text-sky-400">Setup</a></li></ul></nav><div class="flex items-center lg:border-l border-gray-200 ml-6 pl-6 dark:border-gray-700"><button type=button id=theme-toggle>
<span class="dark:hidden hover:text-sky-500"><svg viewBox="0 0 24 24" width="24" height="24" class="w-5 h-5" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span><span class="hidden dark:inline hover:text-sky-400"><svg viewBox="0 0 24 24" width="24" height="24" class="w-5 h-5" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span></button>
<a href=https://github.com/FontysVenlo/prc2 class="ml-6 block hover:text-sky-500 dark:hover:text-sky-400"><svg viewBox="0 0 24 24" width="24" height="24" class="w-5 h-5" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></div></div></div></div></header><div class="max-w-8xl mx-auto px-4 sm:px-6 md:px-8"><aside id=menu class="hidden lg:block fixed z-20 inset-0 top-[3.5rem] left-[max(0px,calc(50%-45rem))] right-auto w-[19.5rem] pb-10 px-8 overflow-y-auto bg-white dark:bg-gray-800"><nav class="lg:leading-6 relative"><ul class="block md:hidden"><li class="mt-12 lg:mt-8"><h5 class="mb-8 lg:mb-3 font-semibold text-slate-900 dark:text-slate-200">General</h5><ul class="space-y-2 border-l border-gray-100 dark:border-gray-700"><li><a href=https://fontysvenlo.github.io/prc2/pages/tips/ class="block border-l pl-4 -ml-px border-transparent hover:border-slate-400 dark:hover:border-slate-500 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-300">Tips</a></li><li><a href=https://fontysvenlo.github.io/prc2/pages/setup/ class="block border-l pl-4 -ml-px border-transparent hover:border-slate-400 dark:hover:border-slate-500 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-300">Setup</a></li></ul></li></ul><ul><li class="mt-12 lg:mt-8"><h5 class="mb-8 lg:mb-3 font-semibold text-slate-900 dark:text-slate-200">Weeks</h5><ul class="space-y-2 border-l border-gray-100 dark:border-gray-700"><li><a href=https://fontysvenlo.github.io/prc2/docs/unit-testing-basics/ class="block border-l pl-4 -ml-px
border-transparent hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200">01 Unit Testing Basics</a></li><li><a href=https://fontysvenlo.github.io/prc2/docs/parameterized-tests/ class="block border-l pl-4 -ml-px
border-transparent hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200">02 Parameterized tests</a></li><li><a href=https://fontysvenlo.github.io/prc2/docs/design-for-testability/ class="block border-l pl-4 -ml-px
border-transparent hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200">03 Design for testability</a></li><li><a href=https://fontysvenlo.github.io/prc2/docs/generics/ class="block border-l pl-4 -ml-px
border-transparent hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200">04 Generics</a></li><li><a href=https://fontysvenlo.github.io/prc2/docs/jpms-lambda-streams/ class="block border-l pl-4 -ml-px
border-transparent hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200">05 JPMS, Lambda and Streams</a></li><li><a href=https://fontysvenlo.github.io/prc2/docs/database-access/ class="block border-l pl-4 -ml-px
border-transparent hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200">06 Database Access JDBC</a></li><li><a href=https://fontysvenlo.github.io/prc2/docs/javafx/ class="block border-l pl-4 -ml-px
border-slate-500 dark:border-slate-400 text-black dark:text-slate-200">07 JavaFX</a></li><li><a href=https://fontysvenlo.github.io/prc2/docs/statemachine/ class="block border-l pl-4 -ml-px
border-transparent hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200">08 The State of Things</a></li><li><a href=https://fontysvenlo.github.io/prc2/docs/reflection/ class="block border-l pl-4 -ml-px
border-transparent hover:border-slate-400 dark:hover:border-slate-400 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200">09 Reflection</a></li></ul></li></ul></nav></aside><div class=lg:pl-[19.5rem]><div class="max-w-3xl mx-auto xl:max-w-none xl:ml-0 xl:mr-[15.5rem] xl:pr-16"><article id=main-content class="prose prose-slate dark:prose-invert max-w-none dark:prose-a:text-fuchsia-400 prose-a:text-fuchsia-500"><nav id=toc class=toc role=doc-toc><h2 id=toc-title>Table of Contents</h2><ol class="toc-list level-1"><li><a href=#_java_fx_bindings>Java FX Bindings</a><ol class="toc-list level-2"><li><a href=#_binding_apis>Binding APIs</a></li><li><a href=#_unbinding_doublebinding_dependencies>Unbinding DoubleBinding dependencies</a></li><li><a href=#_caching_bindings>Caching bindings</a></li></ol></li><li><a href=#_using_scenebuilder>Using SceneBuilder</a><ol class="toc-list level-2"><li><a href=#_defining_widgets_using_fxml>Defining Widgets using FXML</a></li></ol></li><li><a href=#_reading>Reading</a></li><li><a href=#_more_links>More Links</a></li></ol></nav><section class="doc-section level-1"><h2 id=_java_fx_bindings>Java FX Bindings</h2><p>The graphic style of JavaFX is already quite nice. The architecture
of JavaFX applied the lessons learned from the earlier Java framework AWT and Swing.</p><aside class="admonition-block tip" role=doc-tip><h6 class="block-title label-only"><span class=title-label>Tip:</span></h6><p><a href=https://en.wikipedia.org/wiki/Swing_(Java)>Swing</a> and <a href=https://en.wikipedia.org/wiki/Abstract_Window_Toolkit>AWT</a> are the Java GUI
frameworks with which NetBeans IDE and Intelij is built.
That proves that these framworks are still in use in the industry.<br>There is another Java GUI framework word mentioning, which is <a href=https://www.eclipse.org/swt/>SWT</a>, developed by IBM under the Eclipse flag.
You may be familiar with the style if you have used for instance <a href=https://dbeaver.io/>DBeaver</a>.</p></aside><p>One of the other important innovations are the JavaFX bindings.
They provide an elegant way to distribute dynamic information throughout a
GUI application, and help separating business and GUI code.</p><p>The concept of bindings relies on the <a href=https://en.wikipedia.org/wiki/Observer_pattern>Observer Pattern</a>,
which says that a change producing instance can inform an interested party about a change that happenend.</p><p>The classic observer pattern informs all of its <strong>Observers</strong>, or <strong>Listeners</strong> immediately of and change.
The JavaFX approach is to relax a bit and take the Lazy approach.
Being lazy is good, because avoiding work that is (not yet) needed is a way to reduce work and
in the end speed up an application.</p><section class=paragraph><h6 class=block-title>tubmling dominos. source stkinfo.com</h6><p><img src=/prc2/images/dominos2.gif alt=dominos2 class="thumb left related">
The idea is to only invalidate a value when a change happens, and only start the computation when some one
actually needs the result, for instance the GUI layer that needs to do a redraw.<br>Since Observables can be chained, changing one value may trigger a whole avalanche of computations.
In JavaFx, it is still an avalanche, but of <strong class=green>invalidations</strong>, and <em class=green>no</em> computations. The computation is only done
when some one needs the result.</p></section><hr><p>JavaFX defines so called Properties in the <code>javafx.beans</code> package and its sub-packages <code>javafx.beans.properties</code> and <code>javafx.beans.bindings</code>.</p><p>The <a href=https://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm>Oracle tutorial</a> by Scott Hommel sheds some light on the matter.</p><p>The Bindings and Properties packages provide several ways to create bindings, including expressions of various types,
with specialized properties for <span class=blue>int</span>, <span class=blue>long</span>, and <span class=blue>double</span> as the most important
specializations.</p><section class="doc-section level-2"><h3 id=_binding_apis>Binding APIs</h3><figure class=listing-block><figcaption>In all examples we use two IntegerProperties.</figcaption><pre class=highlight><code class=language-java data-lang=java>    IntegerProperty num1 = new SimpleIntegerProperty( 1 );
    IntegerProperty num2 = new SimpleIntegerProperty( 2 );</code></pre></figure><figure class=listing-block><figcaption>Bindings using Fluent API, from Oracle Tutorial</figcaption><pre class=highlight><code class=language-java data-lang=java>    NumberBinding sum = num1.add( num2 ); <b class=conum>1</b>
    System.out.println( sum.getValue() );
    num1.set(2);                          <b class=conum>2</b>
    int result= sum.getValue();           <b class=conum>3</b>
    System.out.println( result );</code></pre><ol class="callout-list arabic"><li>Creates the binding but does NOT compute anything</li><li>Set the value, and invalidates the value, so observers must recalculate.</li><li>The get is the observer’s action that actually triggers the actual computation.</li></ol></figure><figure class=listing-block><figcaption>Bindings class</figcaption><pre class=highlight><code class=language-java data-lang=java>    NumberBinding sum = Bindings.add(num1,num2); <b class=conum>1</b>
    System.out.println(sum.getValue());
    num1.setValue(2);                            <b class=conum>2</b>
    int result= sum.getValue();                  <b class=conum>3</b>
    System.err.println( result );</code></pre><ol class="callout-list arabic"><li>Creates the binding but does NOT compute anything</li><li>Set the value, and invalidates the value, so observers must recalculate.</li><li>The get is the observer’s action that actually triggers the actual computation.</li></ol></figure><figure class=listing-block><figcaption>Low level API</figcaption><pre class=highlight><code class=language-java data-lang=java>    IntegerBinding sum( IntegerProperty n1, IntegerProperty n2 ) {
        return new IntegerBinding() {      <b class=conum>1</b>

            {                              <b class=conum>2</b>
                super.bind( n1, n2 );
            }

            @Override
            protected int computeValue() { <b class=conum>3</b>
                return n1.get()+n2.get();
            }
        };
    }</code></pre><ol class="callout-list arabic"><li>Anonymous inner class with <code>IntegerBinding</code> as <span class=blue>super</span> class.</li><li>Anonymous 'constructor' that tells the binding what its dependencies are.</li><li>The computation, which can be arbitrarily complex, and is only executed if
some one ask the super for get(), which will then invoke <code>computeValue()</code>. Note the use of protected, so
this method is only callable from within the hierarchy between the IntegerBinding and its anonymous sub class.
computeValue is the only abstract method in <span class=blue>abstract class</span> <strong>IntegerBinding</strong>.</li></ol></figure><section class="admonition-block warning" role=doc-notice><h6 class="block-title label-only"><span class=title-label>Warning:</span></h6><p>Quite often, and certainly when dealing with a GUI, you need to translate the values of a binding into
its String representation. In this case <span class=red>toString()</span> does <strong class="big red">NOT</strong> cut it.<br>What you need is a <a href=https://openjfx.cn/javadoc/16/javafx.base/javafx/beans/binding/StringBinding.html>StringBinding</a> that is created
from the Binding you want to show as text. That is what <span class=blue>public StringBinding asString()</span> in the Binding framework is for.</p></section></section><section class="doc-section level-2"><h3 id=_unbinding_doublebinding_dependencies>Unbinding DoubleBinding dependencies</h3><p>There are use cases where you have to unbind bindings. One such use case is the exercise FXTriangulate.
The DoubleBinding abstract class implements <span class=blue>javafx.beans.binding.Binding</span>, which states in its doc that the <code>getDepencies()</code> method should not be used
in production code. We therefore will us a simpler approach.</p><p>Since the <code class=blue>protected# bind(…​)</code> and <code class=blue>protected unbind()</code> methods both take a <em>varargs</em> argument, which is an array in disguise,
the only thing you can do is to remember all bound bindings and
when you have to unbind one, unbind all and then rebind the remaining.
This appears the most reliable method.</p><p>The binding and unbinding is necessary to make the binding listen to its dependencies.</p><figure class=listing-block><figcaption>The code for that looks like this.</figcaption><pre class=highlight><code class=language-java data-lang=java>class ModifyableSumBinding extends DoubleBinding {

    Set&lt;ObservableDoubleValue&gt; values = new HashSet&lt;&gt;();

    @Override
    protected double computeValue() {
        double result = values.stream()
                .mapToDouble( ObservableDoubleValue::get ).sum();
        return result;
    }

    void add( ObservableDoubleValue v ) {
        unbind( values.toArray( ObservableDoubleValue[]::new ) ); <b class=conum>1</b>
        values.add( v );
        bind( values.toArray( ObservableDoubleValue[]::new ) );
        invalidate();
    }

    void remove( ObservableDoubleValue v ) {
        unbind( values.toArray( ObservableDoubleValue[]::new ) );
        values.remove( v );
        bind( values.toArray( ObservableDoubleValue[]::new ) );
        invalidate();
    }
}</code></pre><ol class="callout-list arabic"><li><code>Collection.toArray(IntFunction&lt;T[]> generator)</code> is a method introduced in Java 11.</li></ol></figure></section><section class="doc-section level-2"><h3 id=_caching_bindings>Caching bindings</h3><p>Creating bindings is powerful but can still lead to a performance bottleneck. If you create bindings willy-nilly, it might very well
be that the same computation is done at several places and in a GUI screen redraw at almost the same time (or at least the reason) too.</p><p>To mitigate that problem, it can be wise to cache a binding once it’s created, and serve out the same binding on each subsequent call.
A binding can have many <strong>Listeners</strong>, and it will dutifully inform all of them with either an invalidation call or change event.
The Bindings themselves cache the value of the (last) computation and serve that out until it is 'discarded' on an invalidate call.</p><aside class="admonition-block tip" role=doc-tip><h6 class="block-title label-only"><span class=title-label>Tip:</span></h6><p>The secret sauce in many speed optimizations is avoiding work. Thereby you avoid burning CPU cycles.
And burning them is useless when nobody really needs the result (yet). Being lazy is good, but
it needs some extra work from the programmer.</p></aside><figure class=listing-block><figcaption>Naive approach using computeIfAbsent.</figcaption><pre class=highlight><code class=language-java data-lang=java>    DoubleBinding lengthBinding( Line aLine ) { <b class=conum>1</b>
        return lengthBindings
            .computeIfAbsent( aLine,
                l -&gt; lengthBinding(
                      l.startXProperty(),
                      l.startYProperty(),
                      l.endXProperty(),
                      l.endYProperty()
                )
            );
    }</code></pre><ol class="callout-list arabic"><li>We use the line object as key in the map</li></ol></figure><p>A naive approach to caching is to inspect a value for <span class=blue>null</span> and then instantiate one value when it is.
In this case, because both the creation of the cache entries and the retrieval of the vale take place on the event thread, this naive approach works.</p><figure class=listing-block><figcaption>Caching a single value.</figcaption><pre class=highlight><code class=language-java data-lang=java>   /**
    * Cache for area binding.
    */
   private DoubleBinding areaBinding = null;

   /**
    * Create a binding to compute the area with a triangle determined by side
    * lengths a, b and c. This method consults the cache and has the value computed
    *
    * @return the area binding
    */
   final DoubleBinding areaBinding() {
       if ( areaBinding == null ) {
           areaBinding = areaBinding( distanceBinding( redCircle, greenCircle ), <b class=conum>1</b>
                   distanceBinding( greenCircle, blueCircle ),
                   distanceBinding( blueCircle, redCircle ) );
       }
       return areaBinding;
   }
   // method that creates the binding is left as an exercise</code></pre><ol class="callout-list arabic"><li>Compute the binding if not yet available.</li></ol></figure><section class="admonition-block warning" role=doc-notice><h6 class="block-title label-only"><span class=title-label>Warning:</span></h6><p>The approach of inspecting a value for null and then instantiating a new object when null is NOT threadsafe.
The approach works in this case, because it all happens on the event thread, on the same thread, so there will
be no interfering threads.</p></section></section></section><section class="doc-section level-1"><h2 id=_using_scenebuilder>Using SceneBuilder</h2><p>When using <a href=https://gluonhq.com/products/scene-builder/#download>SceneBuilder</a> the idea is that you design the scene using SceneBuilder, which effectively
is a what you see is what you get FXML editor. The JavaFx, more specifically the FXML part
builds the graphical components or even the complete UI from such FXML files.</p><p>You can have multiple FXML files per application, much like you can have many scenes in a move or stage play.</p><p>There are various demos on Scenebuilder on youtube.</p><figure class=video-block><iframe src="//www.youtube.com/embed/ij0HwRAlCmo?rel=0" width=848 height=480 frameborder=0 allowfullscreen></iframe><figcaption>Creating a first App in Scene Builder</figcaption></figure><figure class=video-block><iframe src="//www.youtube.com/embed/knbw1MvMfBA?rel=0" width=848 height=480 frameborder=0 allowfullscreen></iframe><figcaption>JavaFX Tutorial for Beginners 5 - Installing SceneBuilder and Integrating it into Netbeans IDE</figcaption></figure><section class=paragraph><h6 class=block-title>Creating or updating the java controller from the FXML file.</h6><p><img src=/prc2/images/MakeController.png alt=MakeController class="right thumb related">
One of the most valuable tips from one of those videos is the fact that you can start with
scenebuilder and define your graphical components and methods in SceneBuilder and hence in the
fxml file and that then NetBeans IDE can <em>generate</em> or <strong>update</strong> the controller for you.
Working in this way can help you avoid typing or (different) spelling errors.</p></section><section class="doc-section level-2"><h3 id=_defining_widgets_using_fxml>Defining Widgets using FXML</h3><p>You can use FXML to define whole scenes for your application, but also to make your own <strong>specialized components</strong>.
You can then layout them as you want and <strong>import</strong> them into SceneBuilder, where they behave like any other widget already available.
This allows you to extend the available choices, and make special widgets that can play nicely with something like a game or a planning application.</p><p>When you want to define your own component, you have to make a few changes to the FXML file and have the component class
load the FXML by itself.</p><figure class=listing-block><figcaption>Typical FXML file for an application.</figcaption><pre class=highlight><code class=language-xml data-lang=xml>&lt;AnchorPane id=&#34;AnchorPane&#34; fx:id=&#34;root&#34; prefHeight=&#34;564.0&#34; prefWidth=&#34;535.0&#34; stylesheets=&#34;@stylesheet.css&#34;
  &gt;
&lt;/AnchorPane&gt;</code></pre></figure><figure class=listing-block><figcaption>With your own component, you have to define a <code>fx:root</code>. Example from FXTriangulator exercise.</figcaption><pre class=highlight><code class=language-xml data-lang=xml>&lt;fx:root type=&#34;javafx.scene.Group&#34; xmlns=&#34;http://javafx.com/javafx/16&#34; xmlns:fx=&#34;http://javafx.com/fxml/1&#34;&gt;
    &lt;Circle fx:id=&#34;redCircle&#34; centerX=&#34;10.0&#34; centerY=&#34;10.0&#34; fill=&#34;RED&#34; radius=&#34;5.0&#34; /&gt;
    &lt;Circle fx:id=&#34;greenCircle&#34; centerX=&#34;400.0&#34; centerY=&#34;10.0&#34; fill=&#34;GREEN&#34; radius=&#34;5.0&#34; /&gt;
    &lt;Circle fx:id=&#34;blueCircle&#34; centerX=&#34;10.0&#34; centerY=&#34;400.0&#34; fill=&#34;BLUE&#34; radius=&#34;5.0&#34; /&gt;
    &lt;Circle fx:id=&#34;centerCircle&#34; fill=&#34;GREY&#34; radius=&#34;5.0&#34; /&gt;
   &lt;Line id=&#34;redLine&#34; fx:id=&#34;redLine&#34; endX=&#34;10.0&#34; endY=&#34;400.0&#34; startX=&#34;400.5&#34; startY=&#34;9.5&#34; stroke=&#34;RED&#34; /&gt;
   &lt;Line id=&#34;greenLine&#34; fx:id=&#34;greenLine&#34; endX=&#34;10.0&#34; endY=&#34;400.0&#34; startX=&#34;10.0&#34; startY=&#34;10.0&#34; stroke=&#34;GREEN&#34; /&gt;
   &lt;Line id=&#34;blueLine&#34; fx:id=&#34;blueLine&#34; endX=&#34;10.0&#34; endY=&#34;10.0&#34; startX=&#34;400.0&#34; startY=&#34;10.0&#34; stroke=&#34;BLUE&#34; /&gt;
   &lt;Label fx:id=&#34;redLabel&#34; text=&#34;a&#34; /&gt;
   &lt;Label fx:id=&#34;greenLabel&#34; text=&#34;b&#34; /&gt;
   &lt;Label fx:id=&#34;blueLabel&#34; text=&#34;c&#34; /&gt;
   &lt;Label fx:id=&#34;areaLabel&#34; text=&#34;&#34; /&gt;
&lt;/fx:root&gt;</code></pre></figure><p>From the FXML file you can infer that the widget (in this case) is a specialized <a href=https://openjfx.cn/javadoc/16/javafx.graphics/javafx/scene/Group.html>java.fx.Group</a>.
It can be any type that is a subclass of <a href=https://openjfx.cn/javadoc/16/javafx.graphics/javafx/scene/Parent.html>Parent</a> (including Parent),
if you want the widget to have sub-components.</p><p>Then in the Java file that is both controller and the subclass of the component you want to specialize, Group in the example.</p><figure class=listing-block><figcaption>Class header of specialized widget.</figcaption><pre class=highlight><code class=language-java data-lang=java>public class Triangulator extends Group implements Initializable {

    @FXML
    Circle redCircle;
    @FXML
    Circle blueCircle;
    @FXML
    Circle greenCircle;


// stuff left out
    Triangulator( BindingBusiness bb ) {
        this.bb = bb;
        FXMLLoader fxmlLoader =
           new FXMLLoader( getClass().getResource( &#34;triangulator.fxml&#34; ) ); <b class=conum>1</b>

        connectLoader( fxmlLoader ); <b class=conum>2</b>

        try {
            fxmlLoader.load();
        } catch ( IOException exception ) {
            throw new RuntimeException( exception );
        }
    }

    final void connectLoader( FXMLLoader fxmlLoader ) { <b class=conum>3</b>
        fxmlLoader.setRoot( this );
        fxmlLoader.setController( this );
    }

// more stuff left out
}</code></pre><ol class="callout-list arabic"><li>Load the widgets fxml definitions. This will insert all @FXML annotated fields
and would attach the actions to the @FXML annotated methods.</li><li>Connect <strong class=blue>this</strong> to the loaded FXML document.</li><li>Use a final or private method to set the root and controller of the loaded object to this, to
avoid the warning of exposing this in the constructor.</li></ol></figure><p>In the example widget we have three dots connected with lines. The dots are draggable, while the lines stay connected.
The lengths can be computed using Bindings and are thus automatically updated, and are shown next to the lines.</p><p>We will use such a widget in the next example.</p><section class=paragraph><h6 class=block-title>Library settings hidden behind a cog-wheel.</h6><p><img src=/prc2/images/SceneBuilderLibraryCog.png alt=SceneBuilderLibraryCog class="thumb left related">
Importing into scenebuilder is then done using the tiny cog next to the search text-field labeled Library. When you choose <strong>Jar/FXML Manager</strong>, you can add
widget libraries like you would with maven or point at a library on you machine.</p></section><figure class=image-block><img src=/prc2/images/SceenBuilderLibraryManager.png alt=SceenBuilderLibraryManager><figcaption>Figure 1. Library Manager</figcaption></figure></section></section><section class="doc-section level-1"><h2 id=_reading>Reading</h2><div class=ulist><ul><li>Horstmann Core Java, Ed 11, Vol II, Ch 9, Bonus Chapter Volume I on JavaFX</li></ul></div></section><section class="doc-section level-1"><h2 id=_more_links>More Links</h2><div class=ulist><ul><li><a href=https://openjfx.io/>openjfx landing page</a> and <a href=https://fxdocs.github.io/docs/html5/>fxdocs</a></li><li><a href=https://docs.oracle.com/javafx/2/get_started/jfxpub-get_started.htm>JavaFX at Oracle</a></li><li>An excellent site at <a href=http://tutorials.jenkov.com/javafx/index.html>Jakob Jenkov’s JavaFX Tutorials</a></li><li><a href=https://dlsc.com/javafx-openjfx-11-interview-series/>Dirk Lemmerman’s blog on JavaFx</a> is an treasure trove on advanced JafaFX usage.</li><li>Both <a href=https://www.youtube.com/user/jjenkov>Jakob</a> and <a href=https://www.youtube.com/channel/UCFyRQ_euxxPDwlqyhff-x0Q>Dirk</a> have a presence on youtube too.</li></ul></div></section></article></div><footer class="text-sm leading-6 mt-12 mb-5">Theme provided by <a class="text-pink-500 underline" href=https://github.com/FontysVenlo/sebi-theme target=_blank>SeBi Venlo</a></footer><div class="fixed z-20 top-[3.8125rem] bottom-0 right-[max(0px,calc(50%-45rem))] w-[19.5rem] py-10 px-8 overflow-y-auto hidden xl:block"><h5 id=toc-header class="text-slate-900 font-semibold mb-4 text-sm leading-6 dark:text-slate-200">On this page</h5></div></div><div class="hidden lg:hidden fixed inset-0 z-10 bg-gray-900/50 dark:bg-gray-900/60" id=menu-backdrop></div></div><script src=/prc2/js/main.min.956966b3103878d329f9460daf829f6ad1d50fc9e24d20ff0c5d93a4006065df877564edc24b6a2a5182bf4387d13d9f960a1df6fc9d259d38cfb8e83509c999.js integrity="sha512-lWlmsxA4eNMp+UYNr4KfatHVD8niTSD/DF2TpABgZd+HdWTtwktqKlGCv0OH0T2flgod9vydJZ04z7joNQnJmQ==" crossorigin=anonymous></script>
<script src=/prc2/js/highlight.min.cd8091de05577194483fff730f723dc2379226a640ef117b33ad133cc3da2f690d95af8fc32186b11dc10628e66e325b33bee2bf443c98315905e50f22aecc50.js integrity="sha512-zYCR3gVXcZRIP/9zD3I9wjeSJqZA7xF7M60TPMPaL2kNla+PwyGGsR3BBijmbjJbM77iv0Q8mDFZBeUPIq7MUA==" crossorigin=anonymous defer></script><div id=copied-alert class="invisible opacity-0 transition-all ease-in-out duration-400 fixed bottom-3 right-10 z-50 flex p-4 mb-4 text-sm text-gray-800 bg-gray-200 rounded-lg dark:bg-gray-500 dark:text-gray-200" role=alert><svg class="inline flex-shrink-0 mr-3 w-5 h-5" viewBox="0 0 24 24" width="24" height="24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg><div><span class=font-medium>Code copied</span></div></div></body></html>
<!doctype html><html lang=en-us><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>PRC2</title>
<link rel=stylesheet href=https://fontysvenlo.github.io/prc2/css/main.min.6759673640da6692c24c56b96025d673fdaf0be18acb3114160483f963b75ce2188af4c2b3b6e9d706e2ebd4e4a64459ceca40070ad7b12ae332e473bb646ff0.css integrity="sha512-Z1lnNkDaZpLCTFa5YCXWc/2vC+GKyzEUFgSD+WO3XOIYivTCs7bp1wbi69TkpkRZzspABwrXsSrjMuRzu2Rv8A==" crossorigin=anonymous>
<link rel=stylesheet href=https://fontysvenlo.github.io/prc2/css/highlight.9e5322c61da2ab0997ce2db01648537ffacdb7b808fc24af4d99ff51257c59db9500031551feb8e62cafde7a246ae2c0015c2862637519a22eb0b49fa7b9d2f9.css integrity="sha512-nlMixh2iqwmXzi2wFkhTf/rNt7gI/CSvTZn/USV8WduVAAMVUf645iyv3nokauLAAVwoYmN1GaIusLSfp7nS+Q==" crossorigin=anonymous>
<link rel=stylesheet href=https://fontysvenlo.github.io/prc2/css/fontawesome.18a15c01c2df9b660114c44bfe1cd143dc48faeea9d5bc11a5b70509d8ec85ae65ac4c6dab72eb09a5c4770d45d6a2d802d28924e739d852a37c1b14f3a9cc61.css integrity="sha512-GKFcAcLfm2YBFMRL/hzRQ9xI+u6p1bwRpbcFCdjsha5lrExtq3LrCaXEdw1F1qLYAtKJJOc52FKjfBsU86nMYQ==" crossorigin=anonymous>
<script src=/prc2/js/init-darkmode.min.09a600ce680e2f21da81abb6c4e0627a5bda42cf7e701bbc3fecdedf5fe0eaa6c82d32cf5c6dac1db60aa93e0d5550c19a6dd8218e6b57e8252979349467ac59.js integrity="sha512-CaYAzmgOLyHagau2xOBielvaQs9+cBu8P+ze31/g6qbILTLPXG2sHbYKqT4NVVDBmm3YIY5rV+glKXk0lGesWQ==" crossorigin=anonymous></script>
</head><body class="antialiased text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800"><header class="sticky top-0 z-40 w-full flex-none lg:border-b lg:border-gray-900/10 dark:border-gray-50/[0.06] bg-white dark:bg-gray-800">
<div class="max-w-8xl mx-auto">
<div class="py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0">
<div class="relative flex items-center">
<a class="mr-3 flex-none overflow-hidden md:w-auto dark:hover:text-gray-200 hover:text-gray-900" href=https://fontysvenlo.github.io/prc2/>
PRC2
</a>
<div class="relative flex ml-auto">
<nav class="hidden lg:flex items-center text-sm leading-6 font-semibold text-gray-700 dark:text-gray-200">
<ul class="flex space-x-8">
<li>
<a href=https://fontysvenlo.github.io/prc2/pages/tips/ class="hover:text-sky-500 dark:hover:text-sky-400">Tips</a>
</li>
<li>
<a href=https://fontysvenlo.github.io/prc2/pages/setup/ class="hover:text-sky-500 dark:hover:text-sky-400">Setup</a>
</li>
</ul>
</nav>
<div class="flex items-center lg:border-l border-gray-200 ml-6 pl-6 dark:border-gray-700">
<button type=button id=theme-toggle>
<span class="dark:hidden hover:text-sky-500"><svg viewBox="0 0 24 24" width="24" height="24" class="w-5 h-5" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span>
<span class="hidden dark:inline hover:text-sky-400"><svg viewBox="0 0 24 24" width="24" height="24" class="w-5 h-5" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
</button>
<a href=https://github.com/FontysVenlo/prc2_web class="ml-6 block hover:text-sky-500 dark:hover:text-sky-400"><svg viewBox="0 0 24 24" width="24" height="24" class="w-5 h-5" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a>
</div>
</div>
</div>
</div>
<div class="flex items-center p-4 border-b border-slate-900/10 lg:hidden dark:border-slate-50/[0.06]">
<button id=menu-toggle type=button class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300">
<span class=sr-only>Navigation</span><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>
</div>
</div>
</header><div class="max-w-8xl mx-auto px-4 sm:px-6 md:px-8"><aside id=menu class="hidden lg:block fixed z-20 inset-0 top-[6.75rem] lg:top-[3.8125rem] left-[max(0px,calc(50%-45rem))] right-auto w-[19.5rem] pb-10 px-8 overflow-y-auto bg-white dark:bg-gray-800">
<nav class="lg:leading-6 relative">
<ul>
<li class="mt-12 lg:mt-8">
<h5 class="mb-8 lg:mb-3 font-semibold text-slate-900 dark:text-slate-200">Weeks</h5>
<ul class="space-y-6 lg:space-y-2 border-l border-gray-100 dark:border-gray-700">
<li>
<a href=https://fontysvenlo.github.io/prc2/docs/unit-testing-basics/ class="block border-l pl-4 -ml-px border-transparent hover:border-slate-400 dark:hover:border-slate-500 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-300">
Unit Testing Basics
</a>
</li>
<li>
<a href=https://fontysvenlo.github.io/prc2/docs/parameterized-tests/ class="block border-l pl-4 -ml-px border-transparent hover:border-slate-400 dark:hover:border-slate-500 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-300">
Parameterized tests
</a>
</li>
<li>
<a href=https://fontysvenlo.github.io/prc2/docs/design-for-testability/ class="block border-l pl-4 -ml-px border-transparent hover:border-slate-400 dark:hover:border-slate-500 text-slate-700 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-300">
Desgin for testability
</a>
</li>
</ul>
</li>
</ul>
</nav>
</aside><div class=lg:pl-[19.5rem]>
<div class="max-w-3xl mx-auto xl:max-w-none xl:ml-0 xl:mr-[15.5rem] xl:pr-16">
<article id=main-content class="prose prose-slate dark:prose-invert max-w-none dark:prose-a:text-fuchsia-400 prose-a:text-fuchsia-500">
<nav id=toc class=toc role=doc-toc><h2 id=toc-title>Table of Contents</h2><ol class="toc-list level-2"><li><a href=#_what_are_tests_and_why_do_we_need_them>What are tests and why do we need them?</a></li><li><a href=#_test_driven_development_tdd>Test Driven Development (TDD)</a></li></ol></nav><section class="doc-section level-2"><h3 id=_what_are_tests_and_why_do_we_need_them>What are tests and why do we need them?</h3><p id=_tdd>The way that you have worked with Java so far is that you had to write some code
to implement something. For example you had to implement a bird watcher system
or a telephone book, in which you could save people with their telephone numbers
and look them up, too. You probably created classes called PhoneBook or
BookEntry,
and you had variables such as <code class=blue>String personName</code>, <code class=blue>int phoneNumber</code> and maybe a
<code class=blue>List</code> or a <code class=blue>Map</code> which contained all the people and their phone numbers. You had to
think about how the phonebook works, and then you added classes, fields (variables)
and methods. Slowly but surely, your phonebook started to look more and more
like a phonebook.</p>
<figure class="image-block related thumb right" id=tdd-oneRedTest><img src=/prc2/images/tdd-oneRedTest.png alt="tdd oneRedTest">
<figcaption>Figure 1. Small steps. One red test at a time.</figcaption></figure>
<figure class="image-block related thumb left" id=tdd-allTestsGreen><img src=/prc2/images/tdd-allTestsGreen.png alt="tdd allTestsGreen">
<figcaption>Figure 2. All the tests are green, yay!</figcaption></figure>
<p>But how did you know that your phonebook was actually working? You could have
implemented a method that didn’t work, or maybe you forgot to add people to the
phonebook, so the data wasn’t actually stored. What you did was you ran the TMC
tests. They kept telling you whether the phonebook was working as intended. The
test said "when I look for Alice in your phonebook, I will receive Alice’s
phone number 1234-567.". And if the test didn’t receive Alice’s number, it
would turn red and say something like "I expected 1234-567. But I received
0042-987." Therefore, the test fails.</p>
<p>The tests were a really useful way for you to know that you were indeed
implementing a proper phonebook. You could have just written empty classes and
said "here is the phonebook!" and there would have been no way to verify that
the phonebook works. The test made sure that this doesn’t happen. They also
give you confidence as you code. Because every test that turns green gives you
that little "yes!" feeling that you wrote something that works.</p>
<p>Thus, tests fulfill two functions at once: they constantly probe your
implementation and check whether it works, and they make you feel more
confident about your programming skills. That’s really neat!</p>
<figure class="image-block related thumb right" id=tdd-EnglishError><img src=/prc2/images/tdd-EnglishError.png alt="tdd EnglishError">
<figcaption>Figure 3. Testing in real life</figcaption></figure>
<p>When you were at school, you probably had to write an English exam at some
point. You wrote your answers, and then the teacher graded your exam. The
teacher is just like a test: she reads your exam, expecting the correct answer.
For example, you wrote "Alice and Bob goes to school.". Your teacher would get
the red pen and highlight the word "goes". The teacher says "I expected: Alice
and Bob go to school. Instead, I received: Alice and Bob goes to school." The
teachers expectation, or assertion, was not met. Therefore, you get an error.
As you grow older and you become more proficient at English, you write Emails
in English, perhaps for work or at university. When you make a mistake, you
spot your own errors: "oh hang on, I have to use 'go' instead of 'goes' here."
You have internalized a test that checks for the correct conjugation of the
word. You know what to expect, and when you deviate from the expectation, you
spot the error.</p>
<p>Many people work the same way when they write code. They say "I know what I am
doing because I have experience and I know the rules." But of course, we always
make mistakes. Our brains are really bad testers. We stop seeing mistakes
because we feel so familiar with our code. Have you ever handed in a report for
university, only to find that the lecturer finds spelling errors you swear you
didn’t do? That’s what happens in programming, too.</p>
<p>That is why we write our own little annoying English teachers that constantly
check: is this correct? Even though we know how to program, we also acknowledge
that our brains are terrible testers for things that you write yourself, so we
give our brains a break and write a test instead.</p></section>
<section class="doc-section level-2"><h3 id=_test_driven_development_tdd>Test Driven Development (TDD)</h3><p>In <a href=https://materiaalit.github.io/2013-oo-programming/part2/week-9/>Week 9</a>
we wrote a little phonebook and then we ran the test to check that the
phonebook was working. That worked well, because we no longer have to rely on
our brains to spot the errors on-the-fly. But here is another bad message: not
only does our brain stop recognizing errors in our own code, but it is also
automatically biased to want our own tests to pass. You spent all this time
writing your phonebook, you know how it works, so you know what test to write
for it.</p>
<p>But your brain secretly deceives you: you have implemented a phonebook, and
this is the only phonebook that you know. What if you removed your code, but
leave in the tests- and ask a friend to write a phonebook? They start
complaining that your tests are unfair. "Why do I have to use a List? I use
Maps!" your friend says. But your tests insists that the phonebook has a List.
So what have you done? You have written a test that proves YOUR implementation
is correct.</p>
<p>When you work test-driven, you don’t implement the phonebook and then test it.
You first write the test for a phonebook, and then you implement it. That
sounds a bit weird at first. Why write tests for stuff that’s not there yet? We
know it’s going to fail! But this is what we want. We need to keep telling our
brains: this does not work. Figure out a way to make it work. This way, it is
much harder to get married to your own code and to stop seeing problems with
your test. You have found a way to deal with the human brain. Congratulations!</p>
<figure class=image-block style=text-align:center id=tdd-tddLifecycle><img src=/prc2/images/tdd-lifecycle.png alt="tdd lifecycle">
<figcaption>Figure 4. <a href=https://medium.com/@odayibasi/tdd-test-driven-development-vs-bdd-behavior-driven-development-30e225c29c14>The TDD Lifecycle. Click for image source.</a></figcaption></figure>
<section class="doc-section level-3"><h4 id=_so_how_do_i_know_what_to_test>So how do I know what to test?</h4><p>There is a little (actually, it’s big) catch with TDD. When you write a test
for a thing that doesn’t exist yet, how do you know what to test for? If I
write a test for a phonebook that is not implemented yet, what does my test
expect?</p>
<p>The truth is, you never get around having to make implementation decisions. We
just try to minimize our margin for error. So when you start writing your first
test for your (non-existing) phonebook, you HAVE to have an idea of what the
phonebook does. So perhaps you start with "I expect that the phonebook let’s me
look up a person. When I look up Alice, I expect Alice’s phone number.". What
could such a test look like?</p></section>
<section class="doc-section level-3"><h4 id=_test_selection_strategies>Test selection strategies</h4><p>There is no golden rule that says "always start with text X, and then test Y,
and finish with test Z.". Instead, we rely on heuristics: rules of thumb that
guide us through the TDD process. There are several decisions that you can make
when writing tests.</p>
<p>For instance, you can decide to first write tests for all elements of the
system under test (SUT), but not go into detail yet what each SUT needs to have
tested. This would mean focusing on width first, and depth later. For instance,
you could write tests for the entirety of the phonebook, but you don’t, for
instance, test each valid or invalid phonebook entry. The other approach would
be to start with the details on one particular part of the test class, and
moving on to other parts only when one section of the SUT is covered
completely. In this version, you go depth-first instead of width-first. Both
approaches have their merit and you need to decide which strategy is best in
which situation.</p>
<p>Another strategy is to weigh the difficulty of each test. When you look at a
list of tests to write, do you start with the easy ones that are implemented
quickly, or do you start with the more difficult tests that require more
implementation thinking? When you are stuck on a particular test, it might be
useful to first implement a number of tests that are easier to write, so that
you make progress. It might be that whatever was causing you to be stuck on
that test is now easier to solve now that you have a list of other tests that
you have implemented.</p></section>
<section class="doc-section level-3"><h4 id=_where_to_start>Where to start</h4><p>Choosing is always hard, including choosing where to start. The typical
order for test driven development is:</p>
<div class="olist arabic"><ol class=arabic><li>A Constructor. You typically need instances and this is how you can construct some.</li><li>Getters for the fields that are defined in the constructor. If
such getters are not part of the public API of the class, make the
package private, to hide them from client classes outside of the
package.</li><li>The <code>public String toString()</code> method, which can show
the result of the constructor. Note that toString is often used for debugging,
and that is what the auto-generated to string typically is for.</li><li>Setters, if needed. (They are NOT in the fraction exercise). If you can get by
with a class without setters, you are typically <a href=https://www.leadingagile.com/2018/03/immutability-in-java/>better off</a>.</li><li>The business methods, one by one. In case of Fraction exercise, start at
multiplication, because that is easiest.</li><li>Further refinements, like in case of the Fraction exercise, that the
fraction should always be in <em>normalised</em> form.</li></ol></div>
<aside class="admonition-block tip" role=doc-tip><h6 class="block-title label-only"><span class=title-label>Tip: </span></h6><p>Never add a member (method, field) to a class <em>unless</em> you have a test that proves the need of it.</p></aside>
<hr></section></section>
</article>
</div><footer class="text-sm leading-6 mt-12 mb-5">
Theme provided by <a class="text-pink-500 underline" href=https://github.com/FontysVenlo/sebi-theme target=_blank>SeBi Venlo</a>
</footer><div class="fixed z-20 top-[3.8125rem] bottom-0 right-[max(0px,calc(50%-45rem))] w-[19.5rem] py-10 px-8 overflow-y-auto hidden xl:block">
<h5 id=toc-header class="text-slate-900 font-semibold mb-4 text-sm leading-6 dark:text-slate-200">On this page</h5>
<nav id=TableOfContents></nav>
</div></div>
<div class="hidden lg:hidden fixed inset-0 z-10 bg-gray-900/50 dark:bg-gray-900/60" id=menu-backdrop></div>
</div><script src=/prc2/js/main.min.dcd5fa5ed8a3225696c4340d000ecf01b9a284b1d0ce33f8f8c97c54ffd48f2f4cd6d62cb6b1e7f4d26d946f981620a342c939eae57bccd54a854264aa42f737.js integrity="sha512-3NX6XtijIlaWxDQNAA7PAbmihLHQzjP4+Ml8VP/Ujy9M1tYstrHn9NJtlG+YFiCjQsk56uV7zNVKhUJkqkL3Nw==" crossorigin=anonymous></script>
<script src=/prc2/js/highlight.min.4fdca95e2d3efe7ce1c14ca536fc0df95963ccad74d0bad12c90a493703df6fb4607d9a24ee5645fa5df22667b8f1dca010ce51922423191d22aad54e802ba99.js integrity="sha512-T9ypXi0+/nzhwUylNvwN+VljzK100LrRLJCkk3A99vtGB9miTuVkX6XfImZ7jx3KAQzlGSJCMZHSKq1U6AK6mQ==" crossorigin=anonymous defer></script>
<div id=copied-alert class="invisible opacity-0 transition-all ease-in-out duration-400 fixed bottom-3 right-10 z-50 flex p-4 mb-4 text-sm text-gray-800 bg-gray-200 rounded-lg dark:bg-gray-500 dark:text-gray-200" role=alert><svg class="inline flex-shrink-0 mr-3 w-5 h-5" viewBox="0 0 24 24" width="24" height="24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
<div>
<span class=font-medium>Code copied</span>
</div>
</div>
</body>
</html>